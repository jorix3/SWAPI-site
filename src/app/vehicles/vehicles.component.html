<h1>Vehicles</h1>

<div class="content">
  <table class="listNav">
    <tr>
      <td class="left">
        <button (click)="previous()">Previous</button>
      </td>
      <td class="center">
        {{vehicleCount}} / {{results.count}}
      </td>
      <td class="right">
        <button (click)="next()">Next</button>
      </td>
    </tr>
  </table>

  <table *ngFor="let vehicle of vehicles">
    <thead>
      <th colspan="3">{{vehicle.name}}</th>
      <th>ID: {{vehicle.url}}</th>
    </thead>
    <tbody>
      <tr>
        <th>Model</th>
        <th>Manufacturer</th>
        <th>Cost in Credits</th>
        <th>Length</th>
      </tr>
      <tr>
        <td>{{vehicle.model}}</td>
        <td>{{vehicle.manufacturer}}</td>
        <td *ngIf="vehicle.cost_in_credits !== ''; else unknown">{{vehicle.cost_in_credits | number}}</td>
        <td *ngIf="vehicle.length !== ''; else unknown">{{vehicle.length | number}}</td>
      </tr>
      <tr>
        <th>Max atmospheric speed</th>
        <th>Crew</th>
        <th>Passengers</th>
        <th>Cargo capacity</th>
      </tr>
      <tr>
        <td *ngIf="vehicle.max_atmosphering_speed !== ''; else unknown">{{vehicle.max_atmosphering_speed | number}}</td>
        <td *ngIf="vehicle.crew !== ''; else unknown">{{vehicle.crew | number}}</td>
        <td *ngIf="vehicle.passengers !== ''; else unknown">{{vehicle.passengers | number}}</td>
        <td *ngIf="vehicle.cargo_capacity !== ''; else unknown">{{vehicle.cargo_capacity | number}}</td>
      </tr>
      <tr>
        <th>Consumables</th>
        <th>Vehicle class</th>
        <th>Pilots</th>
        <th>Films</th>
      </tr>
      <tr>
        <td>{{vehicle.consumables}}</td>
        <td>{{vehicle.vehicle_class}}</td>
        <td *ngIf="vehicle.pilots.length != 0; else none">
          <select ng-model="pilots" >
            <option *ngFor="let pilot of vehicle.pilots" value="pilot">ID: {{pilot}}</option>
          </select>
        </td>
        <td *ngIf="vehicle.films.length != 0; else none">
          <select ng-model="films" >
            <option *ngFor="let film of vehicle.films" value="film">ID: {{film}}</option>
          </select>
        </td>
        <ng-template #unknown>
          <td>unknown or none</td>
        </ng-template>
        <ng-template #none>
          <td>n/a</td>
        </ng-template>
      </tr>
    </tbody>
  </table>

  <table class="listNav">
    <tr>
      <td class="left">
        <button (click)="previous()">Previous</button>
      </td>
      <td class="center">
        {{vehicleCount}} / {{results.count}}
      </td>
      <td class="right">
        <button (click)="next()">Next</button>
      </td>
    </tr>
  </table>
</div>